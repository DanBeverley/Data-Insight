<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DataInsight AI</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <div class="logo">
                    <i class="fas fa-brain"></i>
                    <span>DataInsight AI</span>
                </div>
                <div class="status-indicator" id="statusIndicator">
                    <span class="status-dot"></span>
                    <span class="status-text">Ready</span>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="main">
            <div class="container">
                <!-- Step 1: Data Input -->
                <section class="section" id="dataInputSection">
                    <div class="section-header">
                        <h2><span class="step-number">01</span> Data Input</h2>
                        <p>Upload your dataset or provide a URL to get started</p>
                    </div>
                    
                    <div class="input-methods">
                        <div class="input-method active" data-method="upload">
                            <div class="method-header">
                                <i class="fas fa-upload"></i>
                                <span>Upload File</span>
                            </div>
                            <div class="upload-zone" id="uploadZone">
                                <i class="fas fa-cloud-upload-alt"></i>
                                <p>Drag & drop your CSV/Excel file here</p>
                                <p class="subtext">or click to browse</p>
                                <input type="file" id="fileInput" accept=".csv,.xlsx,.xls" hidden>
                            </div>
                        </div>
                        
                        <div class="method-divider">
                            <span>OR</span>
                        </div>
                        
                        <div class="input-method" data-method="url">
                            <div class="method-header">
                                <i class="fas fa-link"></i>
                                <span>URL Data Source</span>
                            </div>
                            <div class="url-input-container">
                                <input type="url" id="urlInput" placeholder="https://example.com/data.csv" class="url-input">
                                <button id="urlSubmit" class="btn btn-primary">
                                    <i class="fas fa-download"></i>
                                    Fetch
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Step 2: Data Preview & Validation -->
                <section class="section hidden" id="dataPreviewSection">
                    <div class="section-header">
                        <h2><span class="step-number">02</span> Data Overview</h2>
                        <p>Review your data quality and structure</p>
                    </div>
                    
                    <div class="data-info-grid">
                        <div class="info-card">
                            <div class="info-icon">
                                <i class="fas fa-table"></i>
                            </div>
                            <div class="info-content">
                                <span class="info-label">Dataset Shape</span>
                                <span class="info-value" id="dataShape">-</span>
                            </div>
                        </div>
                        
                        <div class="info-card">
                            <div class="info-icon">
                                <i class="fas fa-columns"></i>
                            </div>
                            <div class="info-content">
                                <span class="info-label">Columns</span>
                                <span class="info-value" id="columnCount">-</span>
                            </div>
                        </div>
                        
                        <div class="info-card">
                            <div class="info-icon quality-icon">
                                <i class="fas fa-shield-alt"></i>
                            </div>
                            <div class="info-content">
                                <span class="info-label">Data Quality</span>
                                <span class="info-value" id="qualityStatus">-</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="data-preview-container">
                        <div class="preview-header">
                            <h3>Data Preview</h3>
                            <button id="generateEDA" class="btn btn-secondary">
                                <i class="fas fa-chart-bar"></i>
                                Generate EDA Report
                            </button>
                        </div>
                        <div class="table-container">
                            <table id="dataPreviewTable" class="data-table">
                                <thead></thead>
                                <tbody></tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="validation-issues" id="validationIssues">
                        <!-- Validation issues will be populated here -->
                    </div>
                </section>

                <!-- Step 3: Task Configuration -->
                <section class="section hidden" id="taskConfigSection">
                    <div class="section-header">
                        <h2><span class="step-number">03</span> Task Configuration</h2>
                        <p>Configure your machine learning task and target</p>
                    </div>
                    
                    <div class="config-grid">
                        <div class="config-group">
                            <label for="taskSelect">ML Task</label>
                            <select id="taskSelect" class="select-input">
                                <option value="classification">Classification</option>
                                <option value="regression">Regression</option>
                                <option value="clustering">Clustering</option>
                                <option value="timeseries">Time-Series Forecasting</option>
                                <option value="nlp">NLP Text Analysis</option>
                            </select>
                        </div>
                        
                        <div class="config-group" id="targetColumnGroup">
                            <label for="targetSelect">Target Column</label>
                            <select id="targetSelect" class="select-input">
                                <option value="">Select target column...</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="advanced-config">
                        <div class="config-toggle">
                            <input type="checkbox" id="advancedToggle">
                            <label for="advancedToggle">Advanced Options</label>
                        </div>
                        
                        <div class="advanced-options hidden" id="advancedOptions">
                            <div class="config-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="featureGeneration">
                                    <span class="checkmark"></span>
                                    Enable Automated Feature Generation
                                </label>
                            </div>
                            
                            <div class="config-group">
                                <label class="checkbox-label">
                                    <input type="checkbox" id="featureSelection">
                                    <span class="checkmark"></span>
                                    Enable Intelligent Feature Selection
                                </label>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Step 4: Processing -->
                <section class="section hidden" id="processingSection">
                    <div class="section-header">
                        <h2><span class="step-number">04</span> Processing</h2>
                        <p>AI is analyzing and transforming your data</p>
                    </div>
                    
                    <div class="processing-container">
                        <div class="processing-animation">
                            <div class="processing-circle">
                                <div class="processing-inner">
                                    <i class="fas fa-brain"></i>
                                </div>
                            </div>
                        </div>
                        
                        <div class="processing-status">
                            <h3 id="processingStatusText">Initializing...</h3>
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                            <p id="processingStepText">Preparing data analysis...</p>
                        </div>
                    </div>
                    
                    <button id="startProcessing" class="btn btn-primary btn-large">
                        <i class="fas fa-play"></i>
                        Start Processing
                    </button>
                </section>

                <!-- Step 5: Results -->
                <section class="section hidden" id="resultsSection">
                    <div class="section-header">
                        <h2><span class="step-number">05</span> Results</h2>
                        <p>Processing complete! Review and download your results</p>
                    </div>
                    
                    <div class="results-summary">
                        <div class="summary-card">
                            <h3>Processing Summary</h3>
                            <div class="summary-stats">
                                <div class="stat-item">
                                    <span class="stat-label">Original Shape:</span>
                                    <span class="stat-value" id="originalShape">-</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Processed Shape:</span>
                                    <span class="stat-value" id="processedShape">-</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Processing Time:</span>
                                    <span class="stat-value" id="processingTime">-</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="column-roles-card">
                            <h3>Column Classification</h3>
                            <div id="columnRoles" class="column-roles">
                                <!-- Column roles will be populated here -->
                            </div>
                        </div>
                    </div>
                    
                    <div class="downloads-section">
                        <h3>Download Artifacts</h3>
                        <div class="download-grid">
                            <button class="download-btn" id="downloadData">
                                <i class="fas fa-table"></i>
                                <span>Processed Data</span>
                                <small>CSV format</small>
                            </button>
                            
                            <button class="download-btn" id="downloadPipeline">
                                <i class="fas fa-cogs"></i>
                                <span>ML Pipeline</span>
                                <small>Joblib format</small>
                            </button>
                            
                            <button class="download-btn" id="downloadLineage">
                                <i class="fas fa-file-alt"></i>
                                <span>Lineage Report</span>
                                <small>JSON format</small>
                            </button>
                        </div>
                    </div>
                    
                    <div class="restart-section">
                        <button id="processNewData" class="btn btn-secondary">
                            <i class="fas fa-redo"></i>
                            Process New Dataset
                        </button>
                    </div>
                </section>
            </div>
        </main>

        <!-- Loading Overlay -->
        <div class="loading-overlay hidden" id="loadingOverlay">
            <div class="loading-spinner">
                <div class="spinner"></div>
                <p id="loadingText">Loading...</p>
            </div>
        </div>

        <!-- Toast Notifications -->
        <div id="toastContainer" class="toast-container"></div>
    </div>

    <script src="/static/script.js"></script>
</body>
</html>